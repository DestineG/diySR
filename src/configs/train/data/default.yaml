# src/configs/train/data/default.yaml

common:

  split_config:
    splitFuncName: div2k_hr
    splitFuncArgs:
      data_path: /dataroot/liujiang/data/datasets/DF2K
      train_ratio: 0.9
      seed: 42
  
  load_to: memory
  color_mode: RGB

datamoduleClsName: base_datamodule
datamoduleClsArgs:
  train_config:
    dataset_config:
      loader_config:
        loaderFuncName: div2k_hr
        loaderFuncArgs:
          split_config: ${......common.split_config}
          mode: train
          load_to: ${......common.load_to}
          repeat: 10
          load_to_memory_config:
            max_memory_usage: null
            color_mode: ${.......common.color_mode}
            verbose: ${common.verbose}
      handler_config:
        handlerFuncName: div2k_hr
        handlerFuncArgs:
          load_from: ${......common.load_to}
          color_mode: ${......common.color_mode}
          augment_config:
            augment: false
            augmentFuncName: null
            augmentFuncArgs: null

    num_workers: 4
    batch_size: 16
    shuffle: true

    collate_config:
      collateFuncName: div2k_hr
      collateFuncArgs:
        mode: train
        patch_size: 144
        min_scale: 1
        max_scale: 4
        scale: null
        interp_mode: bilinear
        normalize_config: ${common.normalize_config}

  val_config:
    dataset_config:
      loader_config:
        loaderFuncName: div2k_hr
        loaderFuncArgs:
          split_config: ${......common.split_config}
          mode: val
          load_to: ${......common.load_to}
          repeat: 2
          load_to_memory_config:
            max_memory_usage: null
            color_mode: ${.......common.color_mode}
            verbose: ${common.verbose}
      handler_config:
        handlerFuncName: div2k_hr
        handlerFuncArgs:
          load_from: ${......common.load_to}
          color_mode: ${......common.color_mode}
          augment_config:
            augment: false
            augmentFuncName: null
            augmentFuncArgs: null
      
    num_workers: 4
    batch_size: 16
    shuffle: false
    
    collate_config:
      collateFuncName: div2k_hr
      collateFuncArgs:
        mode: val
        patch_size: 144
        min_scale: 1
        max_scale: 4
        scale: null
        interp_mode: bilinear
        normalize_config: ${common.normalize_config}

  test_config:
    dataset_config:
      loader_config:
        loaderFuncName: div2k_hr
        loaderFuncArgs:
          split_config: ${......common.split_config}
          mode: test
          load_to: ${......common.load_to}
          repeat: 1
          load_to_memory_config:
            max_memory_usage: null
            color_mode: ${.......common.color_mode}
            verbose: ${common.verbose}
      handler_config:
        handlerFuncName: div2k_hr
        handlerFuncArgs:
          load_from: ${......common.load_to}
          color_mode: ${......common.color_mode}
          augment_config:
            augment: false
            augmentFuncName: null
            augmentFuncArgs: null

    num_workers: 4
    batch_size: 1
    shuffle: false

    collate_config:
      collateFuncName: div2k_hr
      collateFuncArgs:
        mode: test
        patch_size: 144
        min_scale: 1
        max_scale: 4
        scale: 2
        interp_mode: bicubic
        normalize_config: ${common.normalize_config}